<div [@routerTransition]>
    <form #resetPassForm="ngForm" method="post" (ngSubmit)="save()">
        <div class="reset-passwd-wrap">
            <div class="logo-wrap">
                <img src="/assets/common/images/login/logo-colorized.png" width="40px" alt="logo">
            </div>

            <h3 class="form-title">{{l("ChangePassword")}}</h3>
            <p>{{l("PleaseEnterYourNewPassword")}}</p>
            <div class="reset-body">
                <div class="form-group">
                    <label class="control-label visible-ie8 visible-ie9">{{l("Password")}}</label>
                    <input type="password" name="Password" class="form-control" [(ngModel)]="model.password" #Password="ngModel" placeholder="{{l('Password')}}"
                        validateEqual="PasswordRepeat" reverse="true" [requireDigit]="passwordComplexitySetting.requireDigit"
                        [requireLowercase]="passwordComplexitySetting.requireLowercase" [requireUppercase]="passwordComplexitySetting.requireUppercase"
                        [requireNonAlphanumeric]="passwordComplexitySetting.requireNonAlphanumeric" [requiredLength]="passwordComplexitySetting.requiredLength"
                        required>
                </div>
                <div [hidden]="resetPassForm.form.valid || resetPassForm.form.pristine" class="form-group">
                    <ul class="help-block text-danger" *ngIf="Password.errors">
                        <li [hidden]="!Password.errors.requireDigit">{{l("PasswordComplexity_RequireDigit_Hint")}}</li>
                        <li [hidden]="!Password.errors.requireLowercase">{{l("PasswordComplexity_RequireLowercase_Hint")}}</li>
                        <li [hidden]="!Password.errors.requireUppercase">{{l("PasswordComplexity_RequireUppercase_Hint")}}</li>
                        <li [hidden]="!Password.errors.requireNonAlphanumeric">{{l("PasswordComplexity_RequireNonAlphanumeric_Hint")}}</li>
                        <li [hidden]="!Password.errors.requiredLength">{{l("PasswordComplexity_RequiredLength_Hint", passwordComplexitySetting.requiredLength)}}</li>
                    </ul>
                </div>
                <div class="form-group">
                    <label class="control-label visible-ie8 visible-ie9">{{l("PasswordRepeat")}}</label>
                    <input type="password" name="PasswordRepeat" class="form-control" [ngModel]="model.passwordRepeat" #PasswordRepeat="ngModel"
                        placeholder="{{l('PasswordRepeat')}}" validateEqual="Password" reverse="false" [requireDigit]="passwordComplexitySetting.requireDigit"
                        [requireLowercase]="passwordComplexitySetting.requireLowercase" [requireUppercase]="passwordComplexitySetting.requireUppercase"
                        [requireNonAlphanumeric]="passwordComplexitySetting.requireNonAlphanumeric" [requiredLength]="passwordComplexitySetting.requiredLength"
                        required>
                </div>
                <div [hidden]="resetPassForm.form.valid || resetPassForm.form.pristine" class="form-group">
                    <ul class="help-block text-danger" *ngIf="PasswordRepeat.errors">
                        <li [hidden]="!PasswordRepeat.errors.requireDigit">{{l("PasswordComplexity_RequireDigit_Hint")}}</li>
                        <li [hidden]="!PasswordRepeat.errors.requireLowercase">{{l("PasswordComplexity_RequireLowercase_Hint")}}</li>
                        <li [hidden]="!PasswordRepeat.errors.requireUppercase">{{l("PasswordComplexity_RequireUppercase_Hint")}}</li>
                        <li [hidden]="!PasswordRepeat.errors.requireNonAlphanumeric">{{l("PasswordComplexity_RequireNonAlphanumeric_Hint")}}</li>
                        <li [hidden]="!PasswordRepeat.errors.requiredLength">{{l("PasswordComplexity_RequiredLength_Hint", passwordComplexitySetting.requiredLength)}}</li>
                    </ul>
                </div>

                <div class="form-item clearfix account-action">
                    <button [disabled]="saving" routerLink="/auth/login" type="button" class="btn btn-default">
                        <i></i> {{l("Back")}}</button>
                    <button type="submit" class="btn primary-bgcolor" [disabled]="!resetPassForm.form.valid" [buttonBusy]="saving" [busyText]="l('Saving')">
                        <i></i>
                        <span>提交</span>
                    </button>
                </div>
            </div>
        </div>
    </form>
</div>